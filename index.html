<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Лабораторная №5 — Введение в Vue</title>
    <style>
        body {
            font-family: sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 15px;
            border: none;
            background: #ddd;
            border-radius: 5px;
            cursor: pointer;
        }
        button.active {
            background: #42b883;
            color: white;
        }
        .task {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        input, button {
            margin-top: 8px;
            padding: 6px;
        }
        ul {
            padding-left: 20px;
        }
    </style>
</head>
<body>
<div id="app">
    <h1>Лабораторная №5 — Введение в Vue</h1>

    <div class="tabs">
        <button
                v-for="(tab, i) in tabs"
                :key="i"
                :class="{ active: currentTab === i }"
                @click="currentTab = i"
        >
            Задание {{ i + 1 }}
        </button>
    </div>

    <div class="task">
        <component :is="tabs[currentTab]"></component>
    </div>

</div>

<script>
    const { createApp, ref, defineComponent} = Vue

    // --- ЗАДАНИЕ 1 ---
    const Task1 = defineComponent({
        template: `
          <div>
            <h2>Привет, {{ name }}!</h2>
            <input v-model="name" placeholder="Введите ваше имя" />
          </div>
        `,
        data() {
            return {
                name: 'Vue'
            }
        }
    })

    // --- ЗАДАНИЕ 2 ---
    const Task2 = defineComponent({
        template: `
          <div>
            <h2>Реактивный счётчик</h2>
            <p>Текущее значение: {{ count }}</p>
            <button @click="count++">Увеличить</button>
          </div>
        `,
        data() {
            return {
                count: 0
            }
        }
    })

    // --- ЗАДАНИЕ 3 ---
    const Task3 = defineComponent({
        template: `
          <div>
            <button @click="toggleVisibility">Показать/Скрыть описание</button>
            <p v-show="isVisible">Текстовое описание, которое можно показать или скрыть</p>
          </div>
        `,
        data() {
            return {
                isVisible: true
            }
        },
        methods: {
            toggleVisibility() {
                this.isVisible = !this.isVisible
            }
        }
    })

    // --- ЗАДАНИЕ 4 ---
    const Task4 = defineComponent({
        template: `
          <div>
            <h2>Список моих хотелок</h2>
            <ul>
              <li v-for="item in items" :key="item.id">{{ item.name }}</li>
            </ul>
          </div>
        `,
        data() {
            return {
                items: [
                    { id: 1, name: 'Зарплата раз в неделю' },
                    { id: 2, name: 'ВоДиТеЛьСкИе УдОсТоВеРеНиЯ' },
                    { id: 3, name: 'Хз, не придумал' }
                ]
            }
        }
    })

    // --- ЗАДАНИЕ 5 ---
    const Task5 = defineComponent({
        template: `
          <div>
            <h2>Мини-форма</h2>
            <form @submit.prevent="submitForm">
                <input v-model="inputName" placeholder="Введите имя" type="text"/>
                <input v-model="inputAge" placeholder="Введите возраст" type="number"/>
                <button type="submit">Добавить</button>
            </form>
            <ul>
              <li v-for="(item, index) in list" :key="index">
                {{ item.name }} ({{ item.age }} лет)
              </li>
            </ul>
          </div>
        `,
        data() {
            return {
                inputName: '',
                inputAge: null,
                list: []
            }
        },
        methods: {
            submitForm() {
                this.list.push({ name: this.inputName, age: this.inputAge })
                this.inputName = ''
                this.inputAge = null
            }
        }
    })

    // --- ЗАДАНИЕ 6 ---
    const Task6 = defineComponent({
        template: `
          <div>
            <h2>Калькулятор квадрата и куба</h2>
            <input v-model.number="number" type="number" placeholder="Введите число" />
            <p>Квадрат: {{ squared }}</p>
            <p>Куб: {{ cubed }}</p>
          </div>
        `,
        data() {
            return {
                number: 0
            }
        },
        computed: {
            squared() {
                return this.number ** 2
            },
            cubed() {
                return this.number ** 3
            }
        }
    })

    // --- ЗАДАНИЕ 7 ---
    const Task7 = defineComponent({
        template: `
          <div>
            <h2> {{ greeting }} </h2>
            <p>Сегодняшняя дата: {{ currentTime }}</p>
          </div>
        `,
        data() {
            return {
                currentTime: new Date().toLocaleDateString()
            }
        },
        computed: {
            greeting() {
                const hour = new Date().getHours()
                return  hour < 12 ? 'Добрый день' : 'Добрый вечер';
            }
        },
        watch: {
            currentTime(newTime) {
                console.log('Время обновлено:', this.currentTime)
            }
        },
        mounted() {
            this.timer = setInterval(() => {
                this.currentTime = new Date().toLocaleString()
            }, 1000);
        },
        beforeUnmount() {
            clearInterval(this.timer);
        }
    })

    createApp({
        setup() {
            const currentTab = ref(0)
            const tabs = [Task1, Task2, Task3, Task4, Task5, Task6, Task7]
            return { currentTab, tabs }
        }
    }).mount('#app')
</script>
</body>
</html>